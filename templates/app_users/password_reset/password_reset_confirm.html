{% extends "base.html" %}
{% load static %}

{% block content %}
{% if validlink %}
<div class="mt-8 sm:mx-auto sm:w-full sm:max-w-md">
    <div class="bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10">
        <h2 class="text-xl text-gray-600 pb-2">Создание пароля</h2>
        <form class="space-y-6" action="#" method="POST">
            {% csrf_token %}
            <div>
                <label for="id_new_password1" class="block text-sm font-medium text-gray-700">
                    Новый пароль
                </label>
                <div class="mt-1">
                    <input id="id_new_password1" name="new_password1" type="password" autocomplete="current-password"
                        required
                        class="appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm"
                        placeholder="Пароль">
                    <!-- Display errors for password -->
                    {% if form.new_password1.errors %}
                    <div class="text-red-500 text-sm mt-1">{{ form.new_password1.errors.as_text }}</div>
                    {% endif %}
                </div>
            </div>

            <ul class="p-4">
                <li class="p-2 m-2 text-gray-500">Пароль не должен быть слишком на другую вашу личную информацию</li>
                <li class="p-2 m-2 text-gray-500">Ваш пароль должен содержать как минимум 8 символов</li>
                <li class="p-2 m-2 text-gray-500">Пароль не должен быть слишком простым и распространенным</li>
                <li class="p-2 m-2 text-gray-500">Пароль не может состоять только из цифр</li>
            </ul>

            <div>
                <label for="id_new_password2" class="block text-sm font-medium text-gray-700">
                    Подтвердите новый пароль
                </label>
                <div class="mt-1">
                    <input id="id_new_password2" name="new_password2" type="password" autocomplete="current-password"
                        required
                        class="appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm"
                        placeholder="Подтверждение">
                    <!-- Display errors for password -->
                    {% if form.new_password2.errors %}
                    <div class="text-red-500 text-sm mt-1">{{ form.new_password2.errors.as_text }}</div>
                    {% endif %}
                </div>
            </div>

            <!-- Submit Button -->
            <div>
                <button type="submit"
                    class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-500 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500">
                    Продолжить
                </button>
            </div>
        </form>
    </div>
</div>
{% else %}
<div class="flex justify-center items-center w-full">
    <div class="max-w-lg w-full mt-20">
        <div class="border shadow rounded-lg p-3 items-center text-center py-8 px-2">
            <h2 class="text-xl text-gray-600 pb-2">Ссылка более не является доступной</h2>
            <div class="flex flex-col gap-2 border-gray-400 mt-8">
                <p>Если вы столкнулись с проблемой, когда действующая ссылка для сброса пароля не функционирует или уже истекла, мы настоятельно рекомендуем вам повторить процедуру сброса пароля. Убедитесь, что при следующем получении ссылки на сброс пароля, вы произведете процесс восстановления в кратчайшие сроки, чтобы избежать ее истечения. Мы приносим извинения за любые неудобства, связанные с этим процессом, и благодарим за ваше терпение и понимание.</p>
            </div>
        </div>
    </div>
</div>
{% endif %}
{% endblock content %}